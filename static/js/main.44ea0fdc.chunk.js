(this["webpackJsonpwhite-code"]=this["webpackJsonpwhite-code"]||[]).push([[0],{101:function(e,t,n){e.exports={FormWrapper:"Login_FormWrapper__3ucO1",Alert:"Login_Alert__p9Y5l"}},148:function(e,t,n){e.exports={NewsWrapper:"News_NewsWrapper__2BZe1"}},151:function(e,t,n){e.exports={AddNewsWrapper:"AddNews_AddNewsWrapper__1Cdsa"}},162:function(e,t,n){e.exports=n(350)},349:function(e,t,n){},350:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"FETCH_LOGIN",(function(){return g})),n.d(a,"LOGOUT",(function(){return h})),n.d(a,"SHOW_SPINNER",(function(){return v})),n.d(a,"HIDE_SPINNER",(function(){return O})),n.d(a,"IS_AUTH_REDUX",(function(){return y}));var r={};n.r(r),n.d(r,"fetchLogin",(function(){return x})),n.d(r,"showSpnner",(function(){return L})),n.d(r,"hideSpnner",(function(){return R})),n.d(r,"logout",(function(){return H}));var i={};n.r(i),n.d(i,"deleteNews",(function(){return P})),n.d(i,"addNews",(function(){return U})),n.d(i,"editNews",(function(){return M}));var c=n(0),o=n.n(c),l=n(5),u=n.n(l),s=n(136),d=n(81),m=n(97),p=n(36),f=n(25),E=n(138),w=n(18),b=function(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){throw Error(n)}},g="FETCH_LOGIN",h="LOGOUT",v="SHOW_SPINNER",O="HIDE_SPINNER",y="IS_AUTH_REDUX",N={isAuth:!!function(e){try{var t=window.localStorage.getItem(e);return JSON.parse(t)}catch(n){return{}}}(y),isSpinner:!1,errorMessage:""};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(w.a)(Object(w.a)(Object(w.a)({},e),t.payload),{},{isAuth:t.payload.authentication});case h:return Object(w.a)(Object(w.a)({},e),{},{isAuth:!1});case v:return Object(w.a)(Object(w.a)({},e),{},{isSpinner:!0});case O:return Object(w.a)(Object(w.a)({},e),{},{isSpinner:!1});default:return e}}var S=n(4),_=[];function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEWS":return k(e,t.payload);case"EDIT_NEWS":return W(e,t.payload);case"DELETE_NEWS":return A(e,t.payload.id);default:return e}}var A=function(e,t){return Object(S.a)(e.filter((function(e){return e.id!==t})))},k=function(e,t){var n=e.length;return[].concat(Object(S.a)(e),[Object(w.a)(Object(w.a)({},t),{},{id:n,editDate:(new Date).toISOString()})])},W=function(e,t){var n=Number(t.id),a=A(e,n);return[].concat(Object(S.a)(a),[Object(w.a)(Object(w.a)({},t),{},{id:n,editDate:(new Date).toISOString()})])},D=(n(172),n(27)),F=n.n(D),C=n(42),T=(n(174),{login:function(e){var t=e.login,n=e.password;return new Promise((function(e,a){setTimeout((function(){var a="test@gmail.com"===t&&"123456789"===n;e({authentication:a,errorMessage:a?"":"wrong login or password"})}),2e3)}))}}),x=function(e){var t=e.login,n=e.password;return function(){var e=Object(C.a)(F.a.mark((function e(a){var r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.login({login:t,password:n});case 2:r=e.sent,a({type:g,payload:r}),a({type:O});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(){return function(e){return e({type:v})}},R=function(){return function(e){return e({type:O})}},H=function(){return function(e){return e({type:h})}},P=function(e){return function(t){t({type:"DELETE_NEWS",payload:{id:e}})}},U=function(e){return function(t){t({type:"ADD_NEWS",payload:e})}},M=function(e){return function(t){t({type:"EDIT_NEWS",payload:e})}},V=n(29),q=n(11),G=n(358),J=n(351),B=n(353),X=n(357),z=n(53),K=n(101),Y=n.n(K),Z={labelCol:{span:8},wrapperCol:{span:16}},$={wrapperCol:{offset:8,span:16}},Q=Object(f.c)((function(e){return{isAuth:e.auth.isAuth,isSpinner:e.auth.isSpinner,errorMessage:e.auth.errorMessage}}),(function(e){return{showSpnner:function(){return e(r.showSpnner())},fetchLogin:function(t){var n=t.login,a=t.password;return e(r.fetchLogin({login:n,password:a}))}}}))((function(e){var t=e.isAuth,n=e.isSpinner,a=e.errorMessage,r=e.fetchLogin,i=e.showSpnner;return t?o.a.createElement(q.a,{to:"/"}):o.a.createElement(o.a.Fragment,null,a.length>0&&!n&&o.a.createElement("div",{className:Y.a.Alert},o.a.createElement(G.a,{message:a,type:"error",closable:!0,style:{widtch:"500px"}})),o.a.createElement("div",{className:Y.a.FormWrapper},o.a.createElement(J.a,{spinning:n,delay:500},o.a.createElement(B.a,Object.assign({},Z,{name:"basic",initialValues:{remember:!0},onFinish:function(e){i(),r(e)},onFinishFailed:function(e){console.log("Failed:",e)}}),o.a.createElement(B.a.Item,{label:"E-mail",name:"login",initialValue:"test@gmail.com",rules:[{required:!0,type:"email",message:"\u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 e-mail"}]},o.a.createElement(X.a,null)),o.a.createElement(B.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",initialValue:"123456789",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}]},o.a.createElement(X.a.Password,null)),o.a.createElement(B.a.Item,$,o.a.createElement(z.a,{type:"primary",htmlType:"submit"},"\u0412\u043e\u0439\u0442\u0438"))))))})),ee=n(35),te=n(356),ne=n(359),ae=n(360),re=(te.a.SubMenu,function(e){var t=e.logout,n=Object(c.useState)("news"),a=Object(ee.a)(n,2),r=a[0],i=a[1];return o.a.createElement(te.a,{onClick:function(e){console.log("click ",e),i({current:e.key})},selectedKeys:[r],mode:"horizontal"},o.a.createElement(te.a.Item,{key:"news",icon:o.a.createElement(ne.a,null)},o.a.createElement(V.b,{to:"/admin-panel/news"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439")),o.a.createElement(te.a.Item,{key:"add",icon:o.a.createElement(ae.a,null)},o.a.createElement(V.b,{to:"/admin-panel/add"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c")),o.a.createElement(te.a.Item,{key:"logout",icon:o.a.createElement(ae.a,null),style:{float:"right"},onClick:t},o.a.createElement(V.b,{to:"/login"},"\u0412\u044b\u0439\u0442\u0438")))}),ie=n(352),ce=n(361),oe=n(362),le=n(148),ue=n.n(le),se=ie.a.Meta,de=Object(f.c)((function(e){return{news:e.news}}),(function(e){return{deleteNews:function(t){return e(i.deleteNews(t))}}}))((function(e){var t=e.news,n=e.deleteNews,a=function(e){var t=e.data;return o.a.createElement(ie.a,{style:{width:300,margin:5},cover:o.a.createElement("img",{alt:"example",src:t.src}),actions:[o.a.createElement(ce.a,{key:"delete",onClick:function(){return e=t.id,void n(e);var e}}),o.a.createElement(V.b,{to:"/admin-panel/edit/".concat(t.id)},o.a.createElement(oe.a,{key:"edit"}),",")]},o.a.createElement(se,{title:t.title,description:t.descriptions}))};return o.a.createElement("div",{className:ue.a.NewsWrapper},t.map((function(e,t){return o.a.createElement(a,{key:e.id,data:e})})))})),me=n(354),pe=n(355),fe=n(363),Ee=n(151),we=n.n(Ee),be={labelCol:{span:8},wrapperCol:{span:16}},ge={wrapperCol:{offset:8,span:16}};function he(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}var ve=Object(f.c)((function(e){return{getNews:function(t){return e.news.filter((function(e){return e.id===Number(t)}))[0]}}}),(function(e){return{addNews:function(t){var n=t.title,a=t.descriptions,r=t.src;return e(i.addNews({title:n,descriptions:a,src:r}))},editNews:function(t){var n=t.id,a=t.title,r=t.descriptions,c=t.src;return e(i.editNews({id:n,title:a,descriptions:r,src:c}))}}}))((function(e){var t=e.getNews,n=e.addNews,a=e.editNews,r=Object(q.g)().id,i=t(r)||{},l=B.a.useForm(),u=Object(ee.a)(l,1)[0],s=Object(c.useState)(i.src||""),d=Object(ee.a)(s,2),m=d[0],p=d[1],f=Object(c.useState)([]),E=Object(ee.a)(f,2),b=E[0];E[1];Object(c.useEffect)((function(){r||(u.resetFields(),p(""))}),[r]);var g=function(){var e=Object(C.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.file).url||n.preview){e.next=5;break}return e.next=4,he(n.originFileObj);case 4:n.preview=e.sent;case 5:p(n.url||n.preview);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=o.a.createElement("div",null,o.a.createElement(fe.a,null),o.a.createElement("div",{className:"ant-upload-text"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),v=function(e){me.a.open({message:e,onClick:function(){console.log("Notification Clicked!")}})};return o.a.createElement("div",{className:we.a.AddNewsWrapper},o.a.createElement(B.a,Object.assign({},be,{form:u,name:"basic",initialValues:{remember:!0},onFinish:function(e){var t=r?"\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430":"\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430";r?a(Object(w.a)(Object(w.a)({},e),{},{src:m,id:r})):(n(Object(w.a)(Object(w.a)({},e),{},{src:m})),p("")),u.resetFields(),v(t)},onFinishFailed:function(e){console.log("Failed:",e)},style:{width:"100%"}}),o.a.createElement(B.a.Item,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",name:"title",initialValue:i.title,rules:[{required:!0,message:"Please input your username!"}]},o.a.createElement(X.a,null)),o.a.createElement(B.a.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"descriptions",initialValue:i.descriptions,rules:[{required:!0,message:"Please input your password!"}]},o.a.createElement(X.a.TextArea,null)),o.a.createElement(B.a.Item,{label:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"},o.a.createElement(pe.a,{listType:"picture-card",fileList:b,onChange:g},m?null:h),m&&o.a.createElement("img",{alt:"example",style:{width:"100%"},src:m})),o.a.createElement(B.a.Item,ge,o.a.createElement(z.a,{type:"primary",htmlType:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))})),Oe=Object(f.c)((function(e){return{isAuth:e.auth.isAuth}}),(function(e){return{logout:function(){return e(r.logout())}}}))((function(e){var t=e.isAuth,n=e.logout;return o.a.createElement(V.a,{basename:"/WhiteCodeDemo"},!t&&o.a.createElement(q.a,{to:"/login"}),o.a.createElement(q.d,null,t&&o.a.createElement(q.a,{exact:!0,from:"/",to:"/admin-panel/news"}),o.a.createElement(q.b,{path:"/admin-panel"},o.a.createElement(re,{logout:function(){n()}}),o.a.createElement(q.d,null,o.a.createElement(q.b,{path:"/admin-panel/news",render:function(){return o.a.createElement(de,null)}}),o.a.createElement(q.b,{path:"/admin-panel/add",render:function(){return o.a.createElement(ve,null)}}),o.a.createElement(q.b,{path:"/admin-panel/edit/:id",render:function(){return o.a.createElement(ve,null)}}),o.a.createElement(q.b,{render:function(){return o.a.createElement("div",null,"not found")}}))),o.a.createElement(q.b,{path:"/login",render:function(){return o.a.createElement(Q,null)}})))}));n(348),n(349),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=Object(m.a)(),Ne=[E.a,Object(s.a)(ye)];var je,Se=Object(p.createStore)((je=ye,Object(p.combineReducers)({router:Object(d.b)(je),auth:j,news:I})),p.compose.apply(void 0,[p.applyMiddleware.apply(void 0,Ne)].concat([])));Se.subscribe((function(){var e=Se.getState().auth;b(a.IS_AUTH_REDUX,e.isAuth)})),u.a.render(o.a.createElement(f.a,{store:Se},o.a.createElement(d.a,{history:ye},o.a.createElement(Oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[162,1,2]]]);
//# sourceMappingURL=main.44ea0fdc.chunk.js.map